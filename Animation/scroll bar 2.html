<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>GSAP Infinite Marquee — Logos & Testimonials</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0c10; 
      --card:#13151a; 
      --text:#e8ecf1; 
      --muted:#9aa4b2; 
      --ring:#2dd4bf;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial; color:var(--text); background:radial-gradient(1200px 600px at 10% -10%,#152033 0%,transparent 60%),
      radial-gradient(1200px 600px at 90% 110%,#132628 0%,transparent 60%), var(--bg);
    }
    .container{max-width:1100px; margin:48px auto; padding:0 20px}
    h1{font-size:clamp(24px,4vw,40px); margin:0 0 6px; letter-spacing:-0.02em}
    p.lead{color:var(--muted); margin:0 0 28px}

    /* Marquee shells */
    .marquee{position:relative; overflow:hidden; border:1px solid rgba(255,255,255,.08); border-radius:20px; background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(0,0,0,.05)); box-shadow:0 10px 30px rgba(0,0,0,.4);}
    .marquee + .marquee{margin-top:28px}
    .marquee-header{display:flex; align-items:center; gap:12px; padding:14px 18px; border-bottom:1px solid rgba(255,255,255,.06); background:rgba(0,0,0,.15)}
    .dot{width:8px; height:8px; border-radius:50%; background:var(--ring); box-shadow:0 0 8px var(--ring)}
    .marquee-title{font-weight:800; letter-spacing:.02em; font-size:13px; text-transform:uppercase; color:#bfe5de}

    /* Track */
    .track{position:relative; display:flex; white-space:nowrap; gap:18px; padding:16px; will-change:transform}

    /* Logo item */
    .logo{display:flex; align-items:center; gap:12px; padding:12px 16px; background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:14px; min-width:170px}
    .logo svg{width:28px; height:28px}
    .logo span{font-weight:600}
    .logo:hover{transform:translateY(-2px); transition:transform .2s ease}

    /* Testimonial card */
    .tcard{display:flex; flex-direction:column; gap:10px; padding:16px 18px; background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:16px; width:320px; min-width:320px}
    .t-top{display:flex; align-items:center; gap:12px}
    .avatar{width:36px; height:36px; border-radius:50%; background:linear-gradient(135deg,#2dd4bf,#60a5fa)}
    .name{font-weight:700}
    .role{color:var(--muted); font-size:12px}
    .quote{color:var(--text); line-height:1.45}
    .rating{font-size:14px; letter-spacing:2px; color:#ffd166}

    /* Controls */
    .controls{display:flex; align-items:center; gap:12px; padding:10px 16px; border-top:1px solid rgba(255,255,255,.06); background:rgba(0,0,0,.15)}
    .btn{appearance:none; border:1px solid rgba(255,255,255,.12); background:transparent; color:var(--text); font-weight:600; padding:8px 12px; border-radius:10px; cursor:pointer}
    .btn:hover{border-color:rgba(255,255,255,.3)}
    .range{appearance:none; width:180px}
    .range::-webkit-slider-thumb{appearance:none; width:14px; height:14px; border-radius:50%; background:var(--ring); box-shadow:0 0 0 3px rgba(45,212,191,.25)}

    /* Pause hint */
    .hint{position:absolute; right:10px; bottom:10px; font-size:12px; color:var(--muted)}
  </style>
</head>
<body>
  <div class="container">
    <h1>GSAP Infinite Scrolling Marquee</h1>
    <p class="lead">Logos ya Testimonials ke liye smooth, seamless marquee. Hover se pause, and speed control included.</p>

    <!-- Logos Marquee -->
    <section class="marquee" id="logosMarquee">
      <div class="marquee-header">
        <span class="dot"></span>
        <span class="marquee-title">Partner Logos</span>
      </div>
      <div class="track" data-speed="120">
        <!-- Replace these items with your own logos/images/text -->
        <div class="logo">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" stroke="currentColor" opacity=".3"/><path d="M12 5v14M5 12h14" stroke="currentColor"/></svg>
          <span>Alpha</span>
        </div>
        <div class="logo">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="4" y="4" width="16" height="16" rx="3" stroke="currentColor" opacity=".3"/><path d="M8 12h8M12 8v8" stroke="currentColor"/></svg>
          <span>Beta</span>
        </div>
        <div class="logo">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 3l9 6-9 6-9-6 9-6z" stroke="currentColor" opacity=".3"/><path d="M12 15l9 6-9 6-9-6 9-6z" stroke="currentColor"/></svg>
          <span>Gamma</span>
        </div>
        <div class="logo">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9" stroke="currentColor" opacity=".3"/><path d="M6 12h12" stroke="currentColor"/></svg>
          <span>Delta</span>
        </div>
        <div class="logo">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 12h16M12 4v16" stroke="currentColor" opacity=".3"/><circle cx="12" cy="12" r="6" stroke="currentColor"/></svg>
          <span>Epsilon</span>
        </div>
        <div class="logo">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 7h16v10H4z" stroke="currentColor" opacity=".3"/><path d="M7 10h10v4H7z" stroke="currentColor"/></svg>
          <span>Zeta</span>
        </div>
      </div>
      <div class="controls">
        <button class="btn" data-action="pause">Pause</button>
        <button class="btn" data-action="play">Play</button>
        <label>Speed <input class="range" type="range" min="40" max="300" value="120" step="5"></label>
      </div>
      <div class="hint">Hover to pause</div>
    </section>

    <!-- Testimonials Marquee -->
    <section class="marquee" id="testimonialsMarquee">
      <div class="marquee-header">
        <span class="dot"></span>
        <span class="marquee-title">What users say</span>
      </div>
      <div class="track" data-speed="80">
        <article class="tcard">
          <div class="t-top">
            <div class="avatar"></div>
            <div>
              <div class="name">Ananya</div>
              <div class="role">Product Designer</div>
            </div>
          </div>
          <div class="quote">“Setup itna easy tha ki 10 minute me live hogaya. Animation bilkul butter.”</div>
          <div class="rating">★★★★★</div>
        </article>

        <article class="tcard">
          <div class="t-top">
            <div class="avatar"></div>
            <div>
              <div class="name">Rohan</div>
              <div class="role">Frontend Dev</div>
            </div>
          </div>
          <div class="quote">“GSAP based marquee, no jank, no flicker. Loved the hover pause.”</div>
          <div class="rating">★★★★★</div>
        </article>

        <article class="tcard">
          <div class="t-top">
            <div class="avatar"></div>
            <div>
              <div class="name">Sara</div>
              <div class="role">PM</div>
            </div>
          </div>
          <div class="quote">“Mobile me bhi perfectly smooth. Exactly what we needed for partners row.”</div>
          <div class="rating">★★★★☆</div>
        </article>

        <article class="tcard">
          <div class="t-top">
            <div class="avatar"></div>
            <div>
              <div class="name">Ishan</div>
              <div class="role">Founder</div>
            </div>
          </div>
          <div class="quote">“Copy–paste friendly and clean code. Thanks!”</div>
          <div class="rating">★★★★★</div>
        </article>
      </div>
      <div class="controls">
        <button class="btn" data-action="pause">Pause</button>
        <button class="btn" data-action="play">Play</button>
        <label>Speed <input class="range" type="range" min="40" max="300" value="80" step="5"></label>
      </div>
      <div class="hint">Hover to pause</div>
    </section>
  </div>

  <!-- GSAP -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ModifiersPlugin.min.js"></script>
  <script>
    /**
     * createMarquee(trackEl, { pxPerSec })
     * Duplicates content once, then animates translateX from 0 to -halfWidth.
     * On repeat, x resets to 0. Linear ease ensures seamless loop.
     */
    function createMarquee(trackEl, { pxPerSec = 120 } = {}) {
      const items = Array.from(trackEl.children);
      // Wrap items in an inner row to measure width reliably
      const row = document.createElement('div');
      row.style.display = 'inline-flex';
      row.style.gap = getComputedStyle(trackEl).gap || '18px';
      while (trackEl.firstChild) row.appendChild(trackEl.firstChild);
      trackEl.appendChild(row);

      // Clone row once to make a seamless loop
      const clone = row.cloneNode(true);
      trackEl.appendChild(clone);

      function totalWidth(el) {
        const rect = el.getBoundingClientRect();
        return rect.width;
      }

      function buildTimeline() {
        const w = totalWidth(row);
        // If width is 0 (e.g., hidden), bail out gracefully
        if (!w) return null;
        const distance = -w; // move by one row width (since we have two rows)
        const duration = Math.abs(distance) / pxPerSec;
        const tl = gsap.timeline({ repeat: -1, defaults: { ease: 'none' } });
        tl.fromTo(trackEl, { x: 0 }, { x: distance, duration, onRepeat: () => tl.time(0) });
        return tl;
      }

      let tl = buildTimeline();

      // Pause on hover
      trackEl.closest('.marquee').addEventListener('mouseenter', () => tl && tl.pause());
      trackEl.closest('.marquee').addEventListener('mouseleave', () => tl && tl.resume());

      // Expose controls
      const wrap = trackEl.closest('.marquee');
      const pauseBtn = wrap.querySelector('[data-action="pause"]');
      const playBtn  = wrap.querySelector('[data-action="play"]');
      const range    = wrap.querySelector('.range');

      pauseBtn?.addEventListener('click', () => tl && tl.pause());
      playBtn?.addEventListener('click',  () => tl && tl.resume());
      if (range) {
        range.addEventListener('input', (e) => {
          pxPerSec = Number(e.target.value);
          if (tl) tl.kill();
          tl = buildTimeline();
        });
      }

      // Rebuild on resize for responsiveness
      let resizeTO;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTO);
        resizeTO = setTimeout(() => { if (tl) tl.kill(); tl = buildTimeline(); }, 80);
      });

      return {
        play: () => tl && tl.resume(),
        pause: () => tl && tl.pause(),
        setSpeed: (v) => { pxPerSec = v; if (tl) tl.kill(); tl = buildTimeline(); }
      };
    }

    // Initialize both marquees
    document.querySelectorAll('.track').forEach(track => {
      const speed = Number(track.dataset.speed || 120);
      createMarquee(track, { pxPerSec: speed });
    });

    // Helper: If you want RTL direction for any marquee, call setSpeed with negative value.
    // Example: instance.setSpeed(-120)
  </script>
</body>
</html>
